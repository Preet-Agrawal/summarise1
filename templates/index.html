<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Story Quiz - Summarizer</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <div class="header-left">
      <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Logo" class="logo" width="40" height="40">
      <h2 class="site-title">Story Quiz</h2>
    </div>
    <nav class="header-right">
      <a href="index.html" class="nav-link">Home</a>
      <div class="dropdown">
        <a href="#" class="nav-link">About</a>
        <div class="dropdown-content">
          <a href="#">This is a project made by 3rd Year student of IIIT Surat</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="#" class="nav-link">Contact Us</a>
        <div class="dropdown-content">
          <a href="#">Preet Kumar, 7004613120</a>
          <a href="#">Kalpana Singh, 9555546882</a>
        </div>
      </div>
      <a href="#" class="nav-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#3a3a8a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align:middle; margin-right:5px;"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
        Login
      </a>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="main">
    <div class="center-content">
      <h1 class="main-heading">Turn Stories Into Smart Quizzes</h1>
      <p class="description">
        Welcome to Story Quiz! Paste your story or link, and let our AI summarize and quiz you instantly. Perfect for students, readers, and educators who want to learn smarter.
      </p>
    </div>

    <div class="text-input-section">
      <div class="text-area-container">
        <textarea id="storyInput" placeholder="Paste your story here..."></textarea>
      </div>
      <button class="get-started" onclick="submitStory()">Summarize</button>
    </div>

    <div class="result-section">
      <h2>Result</h2>
      <pre id="resultBox">Your summary and quiz will appear here...</pre>
    </div>

    <script>
      async function submitStory() {
  const inputText = document.getElementById("storyInput").value.trim();
  const resultBox = document.getElementById("resultBox");
  resultBox.textContent = "⏳ Processing...";

  const response = await fetch("/generate", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ text: inputText }),
  });

  const resultText = await response.text();
  if (!response.ok) {
    resultBox.textContent = "❌ Error: " + resultText;
    return;
  }

  resultBox.textContent = resultText;
}
    </script>
  </main>
</body>
</html>
